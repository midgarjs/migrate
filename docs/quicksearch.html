<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes MigratePluginMigrateService Events event:@midgar/migrate:afterExecevent:@midgar/migrate:beforeExecevent:@midgar/migrate:init Global } Global Members } :Midgar Plugin config Type: Midgar Events @midgar/migrate:afterExec afterExec event. @midgar/migrate:beforeExec beforeExec event. @midgar/migrate:init init event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2019-12-30T23:32:20+00:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes MigratePluginMigrateService Events event:@midgar/migrate:afterExecevent:@midgar/migrate:beforeExecevent:@midgar/migrate:init Global } Classes Classes MigratePlugin MigrateService Events @midgar/migrate:afterExec afterExec event. @midgar/migrate:beforeExec beforeExec event. @midgar/migrate:init init event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2019-12-30T23:32:20+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes MigratePluginMigrateService Events event:@midgar/migrate:afterExecevent:@midgar/migrate:beforeExecevent:@midgar/migrate:init Global } @midgar/migrate Système de migration pour Midgar Installation $ npm i @midgar/migrate --save Si tout s'est bien passé, un message de confirmation s'affiche: #midgar-cli @midgar/migrate added to plugins.js ! Fonctionnement Ajoute un dossier de plugin midgar-migrate-schemas: ./migrations/schemas et midgar-migrate-data: ./migrations/data' Commandes cli Up Exéctute up sur toutes les migrations en attente: $ midgar migrate:up Exéctute up sur les 3 premières migrations en attente: $ midgar migrate:up 3 Down Exéctute down sur toutes les migrations en executé: $ midgar migrate:down Exéctute down sur les 3 denière migrations en executé: $ midgar migrate:down 3 Status Affiche le nombre et la liste de migration en attente d'exécutions: $ midgar migrate:down Paramètre optionnels --config chemin vers le dossier de configuration du projet: $ midgar migrate:up --config ~/mon-project/src/config --storage clef du storage: $ midgar migrate:up --storage moongoose × Search results Close Documentation generated by JSDoc 3.6.3 on 2019-12-30T23:32:20+00:00 using the DocStrap template. "},"MigratePlugin.html":{"id":"MigratePlugin.html","title":"Class: MigratePlugin","body":" Documentation Classes MigratePluginMigrateService Events event:@midgar/migrate:afterExecevent:@midgar/migrate:beforeExecevent:@midgar/migrate:init Global } Class: MigratePlugin MigratePlugin MigratePlugin plugin new MigratePlugin() Members dataDirKey :String Db data dir key Type: String schemaDirKey :String Db schema dir key Type: String Methods init() Init plugin Add schama et data plugin directories × Search results Close Documentation generated by JSDoc 3.6.3 on 2019-12-30T23:32:20+00:00 using the DocStrap template. "},"MigrateService.html":{"id":"MigrateService.html","title":"Class: MigrateService","body":" Documentation Classes MigratePluginMigrateService Events event:@midgar/migrate:afterExecevent:@midgar/migrate:beforeExecevent:@midgar/migrate:init Global } Class: MigrateService MigrateService Midgar migrate service new MigrateService(mid) Constructor Parameters: Name Type Description mid Midgar Midgar instance Members config :Object Plugin config Type: Object plugin :MigratePlugin Migrate plugin instance Type: MigratePlugin storages :Object Storages Type: Object Methods _getMigration(executedMigration, files, type) Return version file corresponding to excecuted version Oject Parameters: Name Type Description executedMigration Object { {Sting} plugin Plugin name {Sting} name Migration name (relative file path) {Sting} type Migration type (schema|data) } files Array Array of Object file type String Migration type (schema|data) Returns: Type Object @private _isExecuted(versionName, plugin, type, executedMigrations) Return true if the version file is already executed or false Parameters: Name Type Description versionName String Migration filename plugin String Plugin name type String Migration type (schema | data) executedMigrations Array Executed version files Returns: Type Boolean private addStorage(key, storage) Add storage Parameters: Name Type Description key String Storage key storage MigrateStorage Storage instance &lt;async&gt; down() Downgrade num executed migrations Returns: Type Array &lt;async&gt; getPendingMigrations(storageKey) Return pending migrations Parameters: Name Type Description storageKey String Storage key Returns: Type Array getStorage(key) Return storage instance by key Parameters: Name Type Default Description key String null Storage key Returns: Type MigrateStroage &lt;async&gt; init() Init service Let other plugin add storage isVesionFile(filename) Check if a filename match with the verions filename reg exp Parameters: Name Type Description filename string File name Returns: Type boolean &lt;async&gt; up(num, storageKey) Execute num pending migrations Parameters: Name Type Default Description num int null Number of version to execute storageKey String null Storage key Returns: Type Array × Search results Close Documentation generated by JSDoc 3.6.3 on 2019-12-30T23:32:20+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
